
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="baidu_union_verify" content="d1952c66cf48912e21c18c7c581f382a">
  <meta name="360-site-verification" content="67fbcc5a67f4c65c057315b28fa0b2c8" />
<meta name="google-site-verification" content="2GzxQ0VtXwTSUdmGm6DzcmhTzM_I9QmzCb_pzpMzD88" />
  
    <title>AndroidStudio单元测试——instrumentation | Vincent&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="junjiewang">
    
    <meta name="description" content="This article covers the basics of using Android Unit Tests with Android Studio.
Enabling Unit Testing In Android Studio
Many guides out there will enc">
    
    
    
    
    <link rel="alternate" href="atom.xml" title="Vincent&#39;s Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            var _bdId ='3F39b6410b1f60ccc1074b8360c639a606';
             hm.src = "//hm.baidu.com/hm.js?" + _bdId;
             var s = document.getElementsByTagName("script")[0]; 
             s.parentNode.insertBefore(hm, s);
        })();
    </script>
     
</head>

  <body>
    <header>
      <div>
		
			</li>
					<li> <a title="把这个链接拖到你的Chrome收藏夹工具栏中" href='javascript:(function() {
	function c() {
		var e = document.createElement("link");
		e.setAttribute("type", "text/css");
		e.setAttribute("rel", "stylesheet");
		e.setAttribute("href", f);
		e.setAttribute("class", l);
		document.body.appendChild(e)
	}
 
	function h() {
		var e = document.getElementsByClassName(l);
		for (var t = 0; t < e.length; t++) {
			document.body.removeChild(e[t])
		}
	}
 
	function p() {
		var e = document.createElement("div");
		e.setAttribute("class", a);
		document.body.appendChild(e);
		setTimeout(function() {
			document.body.removeChild(e)
		}, 100)
	}
 
	function d(e) {
		return {
			height : e.offsetHeight,
			width : e.offsetWidth
		}
	}
 
	function v(i) {
		var s = d(i);
		return s.height > e && s.height < n && s.width > t && s.width < r
	}
 
	function m(e) {
		var t = e;
		var n = 0;
		while (!!t) {
			n += t.offsetTop;
			t = t.offsetParent
		}
		return n
	}
 
	function g() {
		var e = document.documentElement;
		if (!!window.innerWidth) {
			return window.innerHeight
		} else if (e && !isNaN(e.clientHeight)) {
			return e.clientHeight
		}
		return 0
	}
 
	function y() {
		if (window.pageYOffset) {
			return window.pageYOffset
		}
		return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
	}
 
	function E(e) {
		var t = m(e);
		return t >= w && t <= b + w
	}
 
	function S() {
		var e = document.createElement("audio");
		e.setAttribute("class", l);
		e.src = i;
		e.loop = false;
		e.addEventListener("canplay", function() {
			setTimeout(function() {
				x(k)
			}, 500);
			setTimeout(function() {
				N();
				p();
				for (var e = 0; e < O.length; e++) {
					T(O[e])
				}
			}, 15500)
		}, true);
		e.addEventListener("ended", function() {
			N();
			h()
		}, true);
		e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
		document.body.appendChild(e);
		e.play()
	}
 
	function x(e) {
		e.className += " " + s + " " + o
	}
 
	function T(e) {
		e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
	}
 
	function N() {
		var e = document.getElementsByClassName(s);
		var t = new RegExp("\\b" + s + "\\b");
		for (var n = 0; n < e.length; ) {
			e[n].className = e[n].className.replace(t, "")
		}
	}
 
	var e = 30;
	var t = 30;
	var n = 350;
	var r = 350;
	var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
	var s = "mw-harlem_shake_me";
	var o = "im_first";
	var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
	var a = "mw-strobe_light";
	var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
	var l = "mw_added_css";
	var b = g();
	var w = y();
	var C = document.getElementsByTagName("*");
	var k = null;
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			if (E(A)) {
				k = A;
				break
			}
		}
	}
	if (A === null) {
		console.warn("Could not find a node of the right size. Please try a different page.");
		return
	}
	c();
	S();
	var O = [];
	for (var L = 0; L < C.length; L++) {
		var A = C[L];
		if (v(A)) {
			O.push(A)
		}
	}
})()    '>High一下</a> </li>
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Vincent&#39;s Blog">Vincent&#39;s Blog</a></h1>
				<a class="blog-motto">Walk steps step by step</a>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
					<li>
					
                                            <form class="search" action=http://www.baidu.com target="_blank">
                                            <label>Search</label>
                                        <input name="s" type="hidden" value= null ><input type="text" name="q" size="30" placeholder="搜索"><br>
					
					
				</ul>
                            </nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2014/11/11/android-studio-guide-2/" title="AndroidStudio单元测试——instrumentation" itemprop="url">AndroidStudio单元测试——instrumentation</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="junjiewang">junjiewang</a>
    </p>
  <p class="article-time">
    <time datetime="2014-11-11T14:04:55.000Z" itemprop="datePublished">11月 11 2014</time>
    更新日期:<time datetime="2014-11-11T14:22:16.000Z" itemprop="dateModified">11月 11 2014</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Enabling_Unit_Testing_In_Android_Studio"><span class="toc-number">1.</span> <span class="toc-text">Enabling Unit Testing In Android Studio</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating_Your_Unit_Testing_Folder"><span class="toc-number">2.</span> <span class="toc-text">Creating Your Unit Testing Folder</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#*REMEMBER*"><span class="toc-number">3.</span> <span class="toc-text">*REMEMBER*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Configuring_The_Project_For_Unit_Testing"><span class="toc-number">4.</span> <span class="toc-text">Configuring The Project For Unit Testing</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Running_Our_Unit_Tests"><span class="toc-number">5.</span> <span class="toc-text">Running Our Unit Tests</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The_following_sources_were_helpful_in_compiling_this_article:"><span class="toc-number">6.</span> <span class="toc-text">The following sources were helpful in compiling this article:</span></a></li></ol>
		</div>
		
		<p><img src="http://i1.wp.com/rexstjohn.com/wp-content/uploads/2014/02/vs1.png" alt=""><br>This article covers the basics of using Android Unit Tests with Android Studio.</p>
<h1 id="Enabling_Unit_Testing_In_Android_Studio">Enabling Unit Testing In Android Studio</h1>
<p>Many guides out there will encourage you to add some lines  in your “build.gradle” to enable “instrument tests” and also tell you to include the Android testing libraries in your dependencies…</p>
<p>This is completely unnecessary and you won’t need to worry about doing that.</p>
<p>Android Studio supports Android Unit Tests natively and you can enable them by setting a few options in your project configuration.</p>
<p>Note: There are several popular unit testing frameworks such as <code>Robolectric</code> for Android which involve more set up and configuration than what I cover here. I hope to write a guide on that topic in the future.</p>
<h1 id="Creating_Your_Unit_Testing_Folder">Creating Your Unit Testing Folder</h1>
<p>I like to keep my unit tests in my main project package e.g. “com.mypath.tests.” You can put your own tests  wherever  you want. To get started, create a new directory “tests” in your desired test location like so:<br><img src="http://i0.wp.com/rexstjohn.com/wp-content/uploads/2014/01/Screen-Shot-2014-01-24-at-6.26.20-PM.png" alt=""></p>
<p>Next, create a new class and name it “ExampleTest.” Have it inherit from “InstrumentationTestCase:”</p>
<p><img src="http://i1.wp.com/rexstjohn.com/wp-content/uploads/2014/01/instrumentationtest.png" alt=""></p>
<p>Lets add a simple test which we know will fail:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleTest</span> <span class="keyword">extends</span> <span class="title">InstrumentationTestCase</span> </span>{</div><div class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span>() <span class="keyword">throws</span> Exception {</div><div class="line">        <span class="keyword">final</span> <span class="keyword">int</span> expected = <span class="number">1</span>;</div><div class="line">        <span class="keyword">final</span> <span class="keyword">int</span> reality = <span class="number">5</span>;</div><div class="line">        assertEquals(expected, reality);</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>

<h1 id="*REMEMBER*"><strong>*</strong>REMEMBER<strong>*</strong></h1>
<p><strong><em>All test methods MUST start with the “test-” prefix or Android Studio will not detect them as tests and you will get all kinds of weird errors and nothing will work.</em></strong></p>
<h1 id="Configuring_The_Project_For_Unit_Testing">Configuring The Project For Unit Testing</h1>
<p>Now that we have a test case which is doomed for failure, we must now run it.</p>
<p>Start by clicking “Run -&gt; Edit Configurations.”</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/edit-configurations.png" alt=""></p>
<p>Now select “+ -&gt; Android Tests” from the upper left hand corner and select “Android Tests” and name your new test configuration “test” or something equally relevant.</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/Screen-Shot-2014-01-24-at-6.42.43-PM.png" alt=""></p>
<p>This will create a new test project configuration like this:</p>
<p><img src="http://i1.wp.com/rexstjohn.com/wp-content/uploads/2014/01/Screen-Shot-2014-01-24-at-6.46.19-PM.png" alt=""></p>
<p>Select your current app module from the drop down menu.</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/Screen-Shot-2014-01-24-at-6.35.01-PM.png" alt=""></p>
<p>Next, select the “All in Package” option and navigate to your “test” folder you just created. You can also select “All in Module” and Android Studio will automatically find any test inside your whole Module! You can also get more specific and select “Class” or even “Method” option to narrow the scope of your testing down further.</p>
<p>The results should look like this:</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/settings.png" alt=""></p>
<p>I also like to set the run configuration to “Show Chooser” so I can decide how to run the tests when needed:</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/configurations.png" alt=""></p>
<p>Now click “Apply” and then “Close.” You should now see your test cases as being a runnable project configuration in the bar across the top of your Android Studio instance.</p>
<p><img src="http://i0.wp.com/rexstjohn.com/wp-content/uploads/2014/01/test-config.png" alt=""></p>
<h1 id="Running_Our_Unit_Tests">Running Our Unit Tests</h1>
<p>I use <code>Genymotion for everything</code>, so fire up your Genymotion instance and run the test.</p>
<p>Put a break point next to the assertion line in the test case we just created and click the “run debug mode.” The purpose is to prove to ourselves that Android Studio is really running our Unit Test case.</p>
<p><img src="http://i2.wp.com/rexstjohn.com/wp-content/uploads/2014/01/test.png" alt=""></p>
<p>When you start your tests, you will now see a special testing display window “Running Tests…”</p>
<p><img src="http://i1.wp.com/rexstjohn.com/wp-content/uploads/2014/01/Screen-Shot-2014-01-24-at-7.10.25-PM.png" alt=""></p>
<p>When your test fails, click “Logcat” and view the results for a comprehensive output as to why your test failed:</p>
<p><img src="http://i1.wp.com/rexstjohn.com/wp-content/uploads/2014/01/LogCat.png" alt=""></p>
<p>If you go through the console, you will find the given reason should be: “junit.framework.AssertionFailedError: expected:<1> but was:<5>”</5></1></p>
<p>Congratulations, you have failed!</p>
<h1 id="The_following_sources_were_helpful_in_compiling_this_article:">The following sources were helpful in compiling this article:</h1>
<p><a href="http://mobilengineering.blogspot.com/2012/05/tdd-testing-asynctasks-on-android.html" target="_blank" rel="external">http://mobilengineering.blogspot.com/2012/05/tdd-testing-asynctasks-on-android.html</a><br><a href="http://www.vogella.com/tutorials/AndroidTesting/article.html" target="_blank" rel="external">http://www.vogella.com/tutorials/AndroidTesting/article.html</a><br><a href="http://nikolaj.hesselholtskov.dk/2013/10/how-to-add-unit-tests-to-android-studio.html" target="_blank" rel="external">http://nikolaj.hesselholtskov.dk/2013/10/how-to-add-unit-tests-to-android-studio.html</a></p>
<p>转载自：<a href="http://rexstjohn.com/unit-testing-with-android-studio/" target="_blank" rel="external">http://rexstjohn.com/unit-testing-with-android-studio/</a></p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/安卓/">安卓</a><a href="/tags/测试/">测试</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/android-studio/">android_studio</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://yoursite.com/2014/11/11/android-studio-guide-2/" data-title="AndroidStudio单元测试——instrumentation | Vincent&#39;s Blog" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2014/11/12/interview-guide-1/" title="Java面试题目">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Java面试题目</span>
</a>
</div>


<div class="next">
<a href="/2014/11/11/android-studio-guide-1/"  title="android_studio快捷键">
 <strong>NEXT:</strong><br/> 
 <span>android_studio快捷键
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Enabling_Unit_Testing_In_Android_Studio"><span class="toc-number">1.</span> <span class="toc-text">Enabling Unit Testing In Android Studio</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating_Your_Unit_Testing_Folder"><span class="toc-number">2.</span> <span class="toc-text">Creating Your Unit Testing Folder</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#*REMEMBER*"><span class="toc-number">3.</span> <span class="toc-text">*REMEMBER*</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Configuring_The_Project_For_Unit_Testing"><span class="toc-number">4.</span> <span class="toc-text">Configuring The Project For Unit Testing</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Running_Our_Unit_Tests"><span class="toc-number">5.</span> <span class="toc-text">Running Our Unit Tests</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The_following_sources_were_helpful_in_compiling_this_article:"><span class="toc-number">6.</span> <span class="toc-text">The following sources were helpful in compiling this article:</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
<div id="authorInfo">
	
		<div class="author-logo"></div>		
	
	<div class="social-list" class="clearfix">
		
		
		
		<a href="https://github.com/vincent-wjj" target="_blank" title="github"></a>
		
		
		
	</div>
</div>

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/Java/" title="Java">Java<sup>2</sup></a></li>
		
			<li><a href="/categories/android-studio/" title="android_studio">android_studio<sup>2</sup></a></li>
		
			<li><a href="/categories/hexo/" title="hexo">hexo<sup>6</sup></a></li>
		
			<li><a href="/categories/linux/" title="linux">linux<sup>1</sup></a></li>
		
			<li><a href="/categories/mysql/" title="mysql">mysql<sup>1</sup></a></li>
		
			<li><a href="/categories/programs/" title="programs">programs<sup>1</sup></a></li>
		
			<li><a href="/categories/taobaoCode/" title="taobaoCode">taobaoCode<sup>1</sup></a></li>
		
			<li><a href="/categories/面试-笔试/" title="面试/笔试">面试/笔试<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/C/" title="C++">C++<sup>1</sup></a></li>
		
			<li><a href="/tags/Java/" title="Java">Java<sup>2</sup></a></li>
		
			<li><a href="/tags/Java，I-O流/" title="Java，I/O流">Java，I/O流<sup>1</sup></a></li>
		
			<li><a href="/tags/linux/" title="linux">linux<sup>1</sup></a></li>
		
			<li><a href="/tags/linux操作系统/" title="linux操作系统">linux操作系统<sup>0</sup></a></li>
		
			<li><a href="/tags/mysql-function/" title="mysql,function">mysql,function<sup>1</sup></a></li>
		
			<li><a href="/tags/program-design/" title="program-design">program-design<sup>1</sup></a></li>
		
			<li><a href="/tags/博客/" title="博客">博客<sup>6</sup></a></li>
		
			<li><a href="/tags/安卓/" title="安卓">安卓<sup>2</sup></a></li>
		
			<li><a href="/tags/快捷键/" title="快捷键">快捷键<sup>1</sup></a></li>
		
			<li><a href="/tags/文章/" title="文章">文章<sup>6</sup></a></li>
		
			<li><a href="/tags/测试/" title="测试">测试<sup>1</sup></a></li>
		
			<li><a href="/tags/淘宝，文章/" title="淘宝，文章">淘宝，文章<sup>1</sup></a></li>
		
			<li><a href="/tags/笔试题目/" title="笔试题目">笔试题目<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
      <li><a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a></li>
      <li><a href="http://gengbiao.me" target="_blank" title="coney">coney's Blog</a></li>
    </ul>
</div>


  <div class="rsspart">
	<a href="atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  
  <div class="tagcloudlist">
    <p class="asidetitle">标签云</p>
    <div class="tagcloudlist clearfix">
       <a href="/tags/C/" style="font-size: 13.33px;">C++</a><a href="/tags/Java/" style="font-size: 16.67px;">Java</a><a href="/tags/Java，I-O流/" style="font-size: 13.33px;">Java，I/O流</a><a href="/tags/linux/" style="font-size: 13.33px;">linux</a><a href="/tags/linux操作系统/" style="font-size: 10.00px;">linux操作系统</a><a href="/tags/mysql-function/" style="font-size: 13.33px;">mysql,function</a><a href="/tags/program-design/" style="font-size: 13.33px;">program-design</a><a href="/tags/博客/" style="font-size: 20.00px;">博客</a><a href="/tags/安卓/" style="font-size: 16.67px;">安卓</a><a href="/tags/快捷键/" style="font-size: 13.33px;">快捷键</a><a href="/tags/文章/" style="font-size: 20.00px;">文章</a><a href="/tags/测试/" style="font-size: 13.33px;">测试</a><a href="/tags/淘宝，文章/" style="font-size: 13.33px;">淘宝，文章</a><a href="/tags/笔试题目/" style="font-size: 13.33px;">笔试题目</a>
    </div>
  </div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
    
            <p class="copyright"> © 2015 
		
		<a href="http://yoursite.com" target="_blank" title="junjiewang">junjiewang</a>
		
            && Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> && Theme by <a href="http://gengbiao.me" target="_blank" title="coney">coney</a>
            </div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"junjie"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





<script>
    
        var _bdImg = '6';
    
    window._bd_share_config={
        "common":{
            "bdSnsKey":{

            },
            "bdText":"",
            "bdMini":"2",
            "bdMiniList":[
                "qzone",
                "tsina",
                "weixin",
                "renren",
                "tqq",
                "tieba",
                "douban",
                "sqq",
                "diandian",
                "huaban",
                "youdao",
                "mail",
                "ty",
                "fbook",
                "twi",
                "linkedin",
                "copy",
                "print"
            ],
            "bdPic":"",
            "bdStyle":"0",
            "bdSize":"16"
        },
        "slide":{
            "type":"slide",
            "bdImg":_bdImg,
            "bdPos":"right",
            "bdTop":"350"
        },
        "image":{
            "viewList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ],
            "viewText":"分享：",
            "viewSize":"16"
        },
        "selectShare":{
            "bdContainerClass":null,
            "bdSelectMiniList":[
                "weixin",
                "qzone",
                "tsina",
                "renren",
                "douban",
                "tqq"
            ]
        }
    };
    with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>




<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'null', 'null');  
ga('send', 'pageview');
</script>


  </body>
</html>

